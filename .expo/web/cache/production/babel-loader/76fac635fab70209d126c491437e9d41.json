{"ast":null,"code":"var ArticleFetch=function ArticleFetch(coord){var url=\"https://en.wikipedia.org/w/api.php\";var params={action:\"query\",list:\"geosearch\",gscoord:coord.latitude+\"|\"+coord.longitude,gsradius:\"10000\",gslimit:\"50\",format:\"json\"};url=url+\"?origin=*\";Object.keys(params).forEach(function(key){url+=\"&\"+key+\"=\"+params[key];});return fetch(url).then(function(response){return response.json();}).then(function(articles){return articles.query.geosearch.map(function(article){return{title:article.title,dist:article.dist,coord:{latitiude:article.lat,longitude:article.lon},thumbnail:article.thumbnail};});}).catch(function(error){return console.log(error);});};export default ArticleFetch;","map":{"version":3,"sources":["/home/patrick/Git/NearMePedia/App/data/ArticleFetch.js"],"names":["ArticleFetch","coord","url","params","action","list","gscoord","latitude","longitude","gsradius","gslimit","format","Object","keys","forEach","key","fetch","then","response","json","articles","query","geosearch","map","article","title","dist","latitiude","lat","lon","thumbnail","catch","error","console","log"],"mappings":"AAAA,GAAMA,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE5B,GAAIC,CAAAA,GAAG,CAAG,oCAAV,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,OADG,CAEXC,IAAI,CAAE,WAFK,CAGXC,OAAO,CAAEL,KAAK,CAACM,QAAN,CAAiB,GAAjB,CAAuBN,KAAK,CAACO,SAH3B,CAIXC,QAAQ,CAAE,OAJC,CAKXC,OAAO,CAAE,IALE,CAMXC,MAAM,CAAE,MANG,CAAf,CASAT,GAAG,CAAGA,GAAG,CAAG,WAAZ,CAEAU,MAAM,CAACC,IAAP,CAAYV,MAAZ,EAAoBW,OAApB,CAA4B,SAASC,GAAT,CAAa,CACrCb,GAAG,EAAI,IAAMa,GAAN,CAAY,GAAZ,CAAkBZ,MAAM,CAACY,GAAD,CAA/B,CACH,CAFD,EAIA,MAAOC,CAAAA,KAAK,CAACd,GAAD,CAAL,CACFe,IADE,CACG,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADX,EAEFF,IAFE,CAEG,SAAAG,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,KAAT,CAAeC,SAAf,CAAyBC,GAAzB,CAA6B,SAAAC,OAAO,CAAI,CACtD,MAAO,CACHC,KAAK,CAAED,OAAO,CAACC,KADZ,CAEHC,IAAI,CAAEF,OAAO,CAACE,IAFX,CAGHzB,KAAK,CAAE,CAAC0B,SAAS,CAAEH,OAAO,CAACI,GAApB,CAAyBpB,SAAS,CAAEgB,OAAO,CAACK,GAA5C,CAHJ,CAIHC,SAAS,CAAEN,OAAO,CAACM,SAJhB,CAAP,CAMH,CAPiB,CAAJ,EAFX,EAUFC,KAVE,CAUI,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAVT,CAAP,CAWH,CA9BD,CAgCA,cAAehC,CAAAA,YAAf","sourcesContent":["const ArticleFetch = (coord) => {\n\n    let url = \"https://en.wikipedia.org/w/api.php\";\n\n    const params = {\n        action: \"query\",\n        list: \"geosearch\",\n        gscoord: coord.latitude + \"|\" + coord.longitude,\n        gsradius: \"10000\",\n        gslimit: \"50\",\n        format: \"json\"\n    };\n\n    url = url + \"?origin=*\";\n\n    Object.keys(params).forEach(function(key){\n        url += \"&\" + key + \"=\" + params[key];\n    });\n\n    return fetch(url)\n        .then(response => response.json())\n        .then(articles => articles.query.geosearch.map(article => {\n            return {\n                title: article.title,\n                dist: article.dist,\n                coord: {latitiude: article.lat, longitude: article.lon},\n                thumbnail: article.thumbnail\n            }\n        }))\n        .catch(error => console.log(error))\n}\n\nexport default ArticleFetch;"]},"metadata":{},"sourceType":"module"}